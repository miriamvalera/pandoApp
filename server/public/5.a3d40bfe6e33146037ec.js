(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"5zjZ":function(n,t,l){"use strict";l.r(t);var o=l("CcnG"),i=function(){return function(){}}(),c=l("pMnS"),e=l("Ip0R"),u=l("gIcY"),s=l("Emxi"),r=l("fgEf"),a=function(){function n(n,t,l){this._chatService=n,this._route=t,this._contactosServ=l,this.msgtxt="",this.username=null,this.losmsgs=null,this.idMsg=null,this.idOrig=null,this.idDest=null,this.texto="",this.msgHora=null}return n.prototype.ngOnInit=function(){var n=this;this._route.params.subscribe(function(t){n.idOrig=t.idOrig,n.idDest=t.idDest}),this._contactosServ.getUsuariosAPI().subscribe(function(t){for(var l=0;l<t.length;l++)t[l]._id==n.idDest&&(n.username=t[l].name)}),this._chatService.getMensajes().subscribe(function(t){n.losmsgs=t.filter(function(t){return t.idDest==n.idOrig&&t.idOrig==n.idDest||t.idOrig==n.idOrig&&t.idDest==n.idDest})})},n.prototype.ngOnDestroy=function(){},n.prototype.envia=function(){this._chatService.sendMess({user:this.username,txt:this.msgtxt,idOrig:this.idOrig,idDest:this.idDest})},n}(),g=l("ZYCi"),d=o.nb({encapsulation:0,styles:[['.cnt-conversacion-prin[_ngcontent-%COMP%]{padding:15px}.cnt-conversacion-prin[_ngcontent-%COMP%]   .cnt-display-conver[_ngcontent-%COMP%]{padding:15px;height:700px;border:2px solid #3ca97a;border-radius:5px}.cnt-conversacion-prin[_ngcontent-%COMP%]   .cnt-display[_ngcontent-%COMP%]{height:calc(100% - 40px - 15px);background:#fff;border-radius:5px;overflow:auto}.cnt-conversacion-prin[_ngcontent-%COMP%]   .cnt-display[_ngcontent-%COMP%]::-webkit-scrollbar{width:1em}.cnt-conversacion-prin[_ngcontent-%COMP%]   .cnt-display[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(99,255,187,0);border-radius:5px}.cnt-conversacion-prin[_ngcontent-%COMP%]   .cnt-display[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:rgba(99,255,187,.5);outline:rgba(99,255,187,.8) solid 1px;border-radius:5px}.cnt-conversacion-prin[_ngcontent-%COMP%]   .cnt-display[_ngcontent-%COMP%]   .bocadillo[_ngcontent-%COMP%]{position:relative;display:flex;padding:10px 0}.cnt-conversacion-prin[_ngcontent-%COMP%]   .cnt-display[_ngcontent-%COMP%]   .bocadillo.destino[_ngcontent-%COMP%]{flex-direction:row}.cnt-conversacion-prin[_ngcontent-%COMP%]   .cnt-display[_ngcontent-%COMP%]   .bocadillo.destino[_ngcontent-%COMP%]:after{content:"";width:20px;height:20px;display:block;background:#a9ffda;position:absolute;top:calc(50% - 10px);-webkit-transform:rotate(45deg);transform:rotate(45deg);left:-10px;z-index:0}.cnt-conversacion-prin[_ngcontent-%COMP%]   .cnt-display[_ngcontent-%COMP%]   .bocadillo.destino[_ngcontent-%COMP%]   .cnt-msg-usuario[_ngcontent-%COMP%]{background:#a9ffda}.cnt-conversacion-prin[_ngcontent-%COMP%]   .cnt-display[_ngcontent-%COMP%]   .bocadillo.origen[_ngcontent-%COMP%]{flex-direction:row-reverse}.cnt-conversacion-prin[_ngcontent-%COMP%]   .cnt-display[_ngcontent-%COMP%]   .bocadillo.origen[_ngcontent-%COMP%]:before{content:"";width:20px;height:20px;display:block;background:#63ffbb;position:absolute;top:calc(50% - 10px);-webkit-transform:rotate(45deg);transform:rotate(45deg);right:-10px;z-index:0}.cnt-conversacion-prin[_ngcontent-%COMP%]   .cnt-display[_ngcontent-%COMP%]   .bocadillo.origen[_ngcontent-%COMP%]   .cnt-msg-usuario[_ngcontent-%COMP%]{background:#63ffbb}.cnt-conversacion-prin[_ngcontent-%COMP%]   .cnt-display[_ngcontent-%COMP%]   .bocadillo[_ngcontent-%COMP%]   .cnt-msg-usuario[_ngcontent-%COMP%]{padding:15px;width:auto;border-radius:5px}.cnt-conversacion-prin[_ngcontent-%COMP%]   .cnt-display[_ngcontent-%COMP%]   .bocadillo[_ngcontent-%COMP%]   .cnt-msg-usuario[_ngcontent-%COMP%]   .nombreusuario[_ngcontent-%COMP%]{width:100%;display:block;padding:0}.cnt-conversacion-prin[_ngcontent-%COMP%]   .cnt-display[_ngcontent-%COMP%]   .bocadillo[_ngcontent-%COMP%]   .cnt-msg-usuario[_ngcontent-%COMP%]   .msg[_ngcontent-%COMP%]{display:block;padding:0}.cnt-conversacion-prin[_ngcontent-%COMP%]   .cnt-input[_ngcontent-%COMP%]{height:40px;margin-top:15px}.cnt-conversacion-prin[_ngcontent-%COMP%]   .cnt-input[_ngcontent-%COMP%]   .cajatxt[_ngcontent-%COMP%]{height:100%;border:2px solid #3ca97a;border-radius:20px}']],data:{}});function p(n){return o.Cb(0,[(n()(),o.pb(0,0,null,null,5,"div",[],[[8,"className",0]],null,null,null,null)),(n()(),o.pb(1,0,null,null,4,"span",[["class","cnt-msg-usuario"]],null,null,null,null,null)),(n()(),o.pb(2,0,null,null,1,"span",[["class","nombreusuario"]],null,null,null,null,null)),(n()(),o.Bb(3,null,["",":"])),(n()(),o.pb(4,0,null,null,1,"span",[["class","msg"]],null,null,null,null,null)),(n()(),o.Bb(5,null,["",""]))],null,function(n,t){n(t,0,0,t.context.$implicit.user==t.component.username?"bocadillo origen":"bocadillo destino"),n(t,3,0,t.context.$implicit.user),n(t,5,0,t.context.$implicit.txt)})}function b(n){return o.Cb(0,[(n()(),o.pb(0,0,null,null,11,"div",[["class","cnt-conversacion-prin row"]],null,null,null,null,null)),(n()(),o.pb(1,0,null,null,10,"div",[["class","cnt-display-conver col-12"]],null,null,null,null,null)),(n()(),o.pb(2,0,null,null,2,"div",[["class","cnt-display col-12"]],null,null,null,null,null)),(n()(),o.gb(16777216,null,null,1,null,p)),o.ob(4,278528,null,0,e.h,[o.O,o.L,o.s],{ngForOf:[0,"ngForOf"]},null),(n()(),o.pb(5,0,null,null,6,"div",[["class","cnt-input"]],null,null,null,null,null)),(n()(),o.pb(6,0,null,null,5,"input",[["class","col-12 cajatxt form-control"],["name","msgtxt"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keyup.enter"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,l){var i=!0,c=n.component;return"input"===t&&(i=!1!==o.xb(n,7)._handleInput(l.target.value)&&i),"blur"===t&&(i=!1!==o.xb(n,7).onTouched()&&i),"compositionstart"===t&&(i=!1!==o.xb(n,7)._compositionStart()&&i),"compositionend"===t&&(i=!1!==o.xb(n,7)._compositionEnd(l.target.value)&&i),"ngModelChange"===t&&(i=!1!==(c.msgtxt=l)&&i),"keyup.enter"===t&&(i=!1!==c.envia()&&i),i},null,null)),o.ob(7,16384,null,0,u.c,[o.D,o.k,[2,u.a]],null,null),o.zb(1024,null,u.k,function(n){return[n]},[u.c]),o.ob(9,671744,null,0,u.p,[[8,null],[8,null],[8,null],[6,u.k]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),o.zb(2048,null,u.l,null,[u.p]),o.ob(11,16384,null,0,u.m,[[4,u.l]],null,null)],function(n,t){var l=t.component;n(t,4,0,l.losmsgs),n(t,9,0,"msgtxt",l.msgtxt)},function(n,t){n(t,6,0,o.xb(t,11).ngClassUntouched,o.xb(t,11).ngClassTouched,o.xb(t,11).ngClassPristine,o.xb(t,11).ngClassDirty,o.xb(t,11).ngClassValid,o.xb(t,11).ngClassInvalid,o.xb(t,11).ngClassPending)})}function C(n){return o.Cb(0,[(n()(),o.pb(0,0,null,null,1,"conversacion",[],null,null,null,b,d)),o.ob(1,245760,null,0,a,[s.a,g.a,r.a],null,null)],function(n,t){n(t,1,0)},null)}var O=o.lb("conversacion",a,C,{},{},[]),_=function(){return function(){}}();l.d(t,"ChatModuleNgFactory",function(){return M});var M=o.mb(i,[],function(n){return o.vb([o.wb(512,o.j,o.bb,[[8,[c.a,O]],[3,o.j],o.x]),o.wb(4608,e.j,e.i,[o.u,[2,e.p]]),o.wb(4608,u.w,u.w,[]),o.wb(1073742336,e.b,e.b,[]),o.wb(1073742336,g.m,g.m,[[2,g.s],[2,g.k]]),o.wb(1073742336,_,_,[]),o.wb(1073742336,u.u,u.u,[]),o.wb(1073742336,u.i,u.i,[]),o.wb(1073742336,i,i,[]),o.wb(1024,g.i,function(){return[[{path:"",component:a,pathMatch:"full"}]]},[])])})}}]);